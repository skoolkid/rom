<!DOCTYPE html>
<html>
<head>
<title>Spectrum ROM: Routine at 07023</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../style.css" />
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="Spectrum ROM" src="../../images/logo-dec.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="6952.html">06952</a>
</td>
<td class="up">Up: <a href="../maps/all.html#7023">Map</a></td>
<td class="next">
Next: <a href="7030.html">07030</a>
</td>
</tr>
</table>
<div class="description">07023: THE 'SEPARATOR' SUBROUTINE</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routine at <a href="6952.html">STMT_LOOP</a>.
</div>
<div class="paragraph">
The report 'Nonsense in BASIC' is given if the required separator is not present. But note that when syntax is being checked the actual report does not appear on the screen - only the 'error marker'.
</div>
</div>
<table class="input">
<tr class="asm-input-header">
<th colspan="2">Input</th>
</tr>
<tr>
<td class="register">C</td>
<td class="register-desc">Entry from the <a href="6728.html#6778">parameter table</a></td>
</tr>
</table>
</td>
</tr>
<tr>
<td class="asm-label">SEPARATOR</td>
<td class="address-2"><span id="7023"></span>07023</td>
<td class="instruction">RST <a href="24.html">24</a></td>
<td class="comment-1" rowspan="2">The current character is fetched and compared to the entry in the parameter table.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7024"></span>07024</td>
<td class="instruction">CP C</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7025"></span>07025</td>
<td class="instruction">JP NZ,<a href="7289.html#7306">REPORT_C</a></td>
<td class="comment-1" rowspan="1">Give the error report if there is not a match.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7028"></span>07028</td>
<td class="instruction">RST <a href="32.html">32</a></td>
<td class="comment-1" rowspan="2">Step past a correct character and return.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7029"></span>07029</td>
<td class="instruction">RET</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="6952.html">06952</a>
</td>
<td class="up">Up: <a href="../maps/all.html#7023">Map</a></td>
<td class="next">
Next: <a href="7030.html">07030</a>
</td>
</tr>
</table>
<footer>
<div class="release">The Complete Spectrum ROM Disassembly 20221121</div>
<div class="copyright">&#169; 1982 Amstrad. &#169; 1983 Dr Ian Logan &amp; Dr Frank O'Hara. &#169; 2022 Richard Dymond.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 8.8.</div>
<div><a href="../../asm/1B6F.html">Switch to hexadecimal</a>.</div>
</footer>
</body>
</html>